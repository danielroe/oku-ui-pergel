---
title: Installation
description: 'Pergel Nuxt Module for Drizzle'
links:
  - label: 'drizzle-orm'
    icon: i-simple-icons-npm
    to: https://www.npmjs.com/package/drizzle-orm
---

- Auto generate environment variables
- Auto up database dev mode
- Auto import `tables[projectName]`
- Compile time type safety
- ClI support
- Studio support
- Nuxt Devtools support
- Auto import support `eq`, `like` and more
- Auto generated folders `schema`, `migrations`, `seed`


1. Project configuration:


::code-group
```ts [nuxt.config.ts]
export default defineNuxtConfig({
  modules: ['pergel/nuxt'],
  pergel: {
    projects: {
      myproject: {
        // ... other modules
        // driver default postgresjs:pg
        drizzle: true, // or { driver: 'postgresjs:pg' }
      },
      // bookList: {
      //  ses: false
      // },
    },
  },
})
```
::

::callout{color="amber" icon="i-ph-warning-duotone"}
Currently supports default `postgresjs`. You can send pr for different db or open issua.
::

::callout{color="amber" icon="i-ph-warning-duotone"}
Node >= 20.8.0 is required.
Nuxt >= 3.9.0 is required.
::

2. Type Generation and `pergel/README.json` generation:

::code-group
```sh [pnpm]
pnpm nuxt prepare
```
```sh [npm]
npm run nuxt prepare
```
```sh [yarn]
yarn nuxt prepare
```
::

3. Auto install dependencies:

::code-group
```sh [terminal]
pergel install
```
```sh [terminal]
# pergel cli upgrade.Make sure it is always up to date.
pnpm i -g pergel
npm i -g pergel
yarn global add pergel
```
::

:read-more{title="Install Pergel CLI" to="/pergel/cli"}

::callout{icon="i-ph-info" color="yellow"}
Check your `pergel/[projectName]/drizzle`

Check following files:

- [ ] server/[drizzle-projectName]/schema
- [ ] server/[drizzle-projectName]/seeds
- [ ] server/[drizzle-projectName]/storage
- [ ] server/[drizzle-projectName]/drizzle.config.ts
- [ ] server/[drizzle-projectName]/index.ts


4. Add your api handler and use it:

Let's showcase an example use.  `[projectName]Tables` is automatically generated. 

::code-group
```ts [server/api/test.ts]
export default defineEventHandler(async (event) => {
  const connect = await pergelTest().drizzle().postgresjs().connect({
    event,
  })
  const result = await connect.select().from(tablesMyproject.user)
  return {
    statusCode: 200,
    body: result,
  }
})
```
::


5. Add .env file

Root directory of your project `pergel` folder inside `.env.template` file. Check for `projectName` and `drizzle` section.

::code-group
```sh [.env]
# You see this in your .env.template file
NUXT_MYPROJECT_DRIZZLE_URL=
...

# Copy and change `:` to `=` and add your credentials
 NUXT_MYPROJECT_DRIZZLE_URL=
...
```
::

::callout{icon="i-ph-check-circle-duotone" color="green"}
Well done! You have successfully installed the module.
::

::callout{icon="i-ph-check-circle-duotone" color="yellow"}
Scripts

Root directory of your project `pergel` folder inside `README.json` file. Check for `projectName` and `drizzle` section.

You can copy your scripts to package.json if you want. Or you can run them via cli. Check `scripts` and `cli` in `README.json` file.
::

::callout{icon="i-ph-check-circle-duotone" color="yellow"}
 More information about the module [API](./2.api.md)
::

